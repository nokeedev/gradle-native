plugins {
	id 'nokeebuild.repositories'
	id 'java-platform'
	id 'maven-publish'
}

def allPlatformProjects = rootProject.subprojects - [project(':docs'), project(':docs:exemplarKit'), project(':distributions'), project(':distributions:bom'), project(':distributions:all'), project, project(':internalTesting'), project(':internalSmokeTest'), project(':gradleAnnotation'), project(':distributionsLocal'), project(':nokeeVersionManagement')]

javaPlatform {
	allowDependencies()
}

dependencies {
	api platform(project(':distributions:bom'))
	allPlatformProjects.each {
		api it
	}
}

publishing {
	publications {
		nokeeDistributions(MavenPublication) {
			from components.javaPlatform
			artifactId = 'nokee-gradle-plugins'
		}
	}
}
