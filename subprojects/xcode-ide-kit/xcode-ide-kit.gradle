import java.nio.file.Files

plugins {
	id 'nokeebuild.java-gradle-library'
	id 'nokeebuild.gradle-plugin-unit-test'
	id 'nokeebuild.gradle-plugin-integration-test'
	id 'antlr'
	id 'maven-publish'
	id 'java-test-fixtures'
	id 'nokeedocs.sample-templates'
}

dependencies {
	implementation "com.google.guava:guava:${guavaVersion}"
	implementation "org.antlr:antlr4:${antlrVersion}"
	implementation "commons-io:commons-io:${commonsIoVersion}"
	implementation "org.apache.commons:commons-lang3:${commonsLangVersion}"
	implementation project(':coreUtils')
	antlr "org.antlr:antlr4:${antlrVersion}"

	testFixturesApi project(':internalTesting')
}

test {
	dependencies {
		implementation "nl.jqno.equalsverifier:equalsverifier:${equalsverifierVersion}"
	}
}

dependencies {
	integrationTestImplementation(templates(project))
}

tasks.named(sourceSets.templates.generateSourcesTaskName) { task ->
	task.packageName = 'dev.nokee.samples.xcode'
}

tasks.named(sourceSets.templates.processSamplesTaskName, Sync) { task ->
	exclude("**/*.xcuserdatad/**")
	includeEmptyDirs(false)
}
