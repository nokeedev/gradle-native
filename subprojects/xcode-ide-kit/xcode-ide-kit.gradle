plugins {
	id 'nokeebuild.java-gradle-library'
	id 'nokeebuild.gradle-plugin-unit-test'
	id 'nokeebuild.gradle-plugin-integration-test'
	id 'antlr'
	id 'maven-publish'
	id 'java-test-fixtures'
	id 'nokeetemplates.source-element'
}

dependencies {
	implementation "com.google.guava:guava:${guavaVersion}"
	implementation "org.antlr:antlr4:${antlrVersion}"
	implementation "commons-io:commons-io:${commonsIoVersion}"
	implementation "org.apache.commons:commons-lang3:${commonsLangVersion}"
	implementation "org.apache.commons:commons-text:${commonsTextVersion}"
	implementation project(':coreUtils')
	antlr "org.antlr:antlr4:${antlrVersion}"

	testFixturesApi project(':internalTesting')
}

test {
	dependencies {
		implementation "nl.jqno.equalsverifier:equalsverifier:${equalsverifierVersion}"
	}
}

dependencies {
	integrationTestImplementation(templates(project))
}

sourceSets.templates {
	tasks.named(compileJavaTaskName, JavaCompile) {
		options.compilerArgs.add("-AbasePath=" + file('src/templates'));
	}
}
